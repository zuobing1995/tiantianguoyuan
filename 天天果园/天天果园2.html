<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Document</title>
    <link rel="stylesheet" type="text/css" href="天天果园2.css">
    <script src='/home/tarena/jquery-1.11.3.js'></script>
</head>
<body>
    <div id=container>
        <!-- 导航栏 -->
        <div id="nav">
            <ul id="rightNav">
                <li id="aMar">
                <a href="#" id="aRightMargin">[登录]</a>
                <a href="#">[注册有惊喜]</a>
                <li>
                <li class="border-1">果园公告</li>
                <li class="border-1">劵卡兑换</li>
                <li class="border-1" id="border-2">手机果园</li>

            </ul>
            <a href="#">
                上海
                <div id="adress"></div>
            </a>
            <a href="#">满百包邮（含六环）</a>
            <a href="#"><span id="threeA">星夜达</span></a>
        
        </div>
        
        <!-- 2. 头部页面 -->
        <div id="banner">
            <img src="image/banner1.jpg">                
        </div>
        <!-- 3 !推荐 -->
        <div id="commend">
            <img src="image/recommend1.jpg" alt="">
            <img src="image/recommend1.jpg" alt="">
            <img src="image/recommend1.jpg" alt="">
            <img src="image/recommend1.jpg" alt="">

        </div>
        <hr>
        <!-- 4. main主体部分 -->
        <div id='main'>
<!--             <span>礼品卡券</span>
            1 第一行图片
            <div id="image">
                <img src="image/commend1.jpg">
                <img src="image/commend2.jpg">
                <img src="image/commend3.jpg">
                <img src="image/commend4.jpg">


            </div> -->
            <!-- 1 头部 -->
            <div id="mainFbox">
                <input type="checkbox" name="allcheck"><span>全选</span>
                <span id="shang">商品</span>
                <span class="dan">单价</span>
                <span class="number">数量</span>
                <span class="xiao">小计</span>
                <span class="xiao">操作</span>
            </div>
            <!-- 2. 内容 -->
            <div class="mainInfo">
            <div class="mainInfo1">
                <input type="checkbox">
                <img src="image/info1.jpg">
                <span class="text1">欢乐时光蛇果</span>
                <span>￥169</span>
                <input type="button" name="reduce" value="-" class="reduceNumber"><span class='buyNumber'>1</span><input class='addNumber' type="button" name="add" value="+">
                <span class="xiaoji">￥169</span>
                <input type="button" name="remove" value="移除" class="removeBuy">
            </div>
            </div>

            
            <!-- 绝对定位实现定位，避免商品不同长度带来的位置错乱 -->
       
            <div class="mainInfoBuy">
                <div class="mainInfoBuy1">
                    <input type="checkbox" class="mainInfoBox1">
                    <img src="image/info1.jpg">
                    <span class="text2">欢乐</span>
                    <span class="text3">￥169</span>
                    
                    <input type="button" name="reduce1" value="-" class="revalue"><span class='buyNumber1'>1</span><input class='advalue' type="button" name="add" value="+">
                    <span class="text4">￥169</span>
                     <input type="button" name="remove" value="移除" class="removeBuy1">
                </div>
            </div>
            

            <!-- 总计栏 -->
            <div class='counter'>
                <span>已选择</span>
                <span class="counterNumber">2</span>
                <span>件商品</span>
                <span>总计:</span>
                <span class='allMoney'></span>

                <input type="button" value="去结算">
            </div>
        </div>
    </div>

    <script type="text/javascript">
        $(function(){
            $('#commend>img:last-child').css({'margin-right':'0'});
            $('#mainFbox>input').css({'margin-left':'10px'});
            $('#mainFbox .dan').css({'margin-left':'389px'});
            $('#mainFbox .number').css({'margin-left':'90px'});
            $('#mainFbox .xiao').css({'margin-left':'80px'});
            // maininfo
            $('.mainInfo1 input:first-child()').css({'margin-left':'10px'});
            $('.mainInfo1 .text1').css({'margin-left':'20px'});
            $('.mainInfo1>span:nth-child(4)').css({'margin-left':'336px'});
            $('.mainInfo1>span:nth-child(8)').css({'margin-left':'52px'});


            $('.reduceNumber').click(function(){
                var value=$('.buyNumber').html()
                if ($('.buyNumber').html()=='1'){
                    return
                }else{ value=value-1;$('.buyNumber').html(value)}
                //实现价格联动
               var price=Number($('.mainInfo1>span:nth-child(4)').html().substring(1));
                var counterPrice=Number(value)*price;
                $('.xiaoji').html('￥'+counterPrice)

            });
            $('.addNumber').click(function(){
               var value=Number($('.buyNumber').html());
               value=value+1;
               
               $('.buyNumber').html(value);
                var price=Number($('.mainInfo1>span:nth-child(4)').html().substring(1));
                var counterPrice=Number(value)*price;
                $('.xiaoji').html('￥'+counterPrice)


            });
            $('.removeBuy').click(function(){
                $('.mainInfo:first').remove();

            });


            $('.revalue').click(function(){
                var value=$('.buyNumber1').html()
                if ($('.buyNumber1').html()=='1'){
                    return
                }else{ value=value-1;$('.buyNumber1').html(value)}

                //实现价格联动
                var price=Number($('.text3').html().substring(1));
                var counterPrice=Number(value)*price;
                $('.text4').html('￥'+counterPrice)

            });
            $('.advalue').click(function(){
               var value=Number($('.buyNumber1').html());
               value=value+1;
               $('.buyNumber1').html(value);
                
                //实现价格联动
                var price=Number($('.text3').html().substring(1));
                var counterPrice=Number(value)*price;
                $('.text4').html('￥'+counterPrice)

            });
            $('.removeBuy1').click(function(){
                $('.mainInfoBuy:first').remove();
            });
            
            $('#mainFbox input:first').click(function(){
                if($(this).prop('checked')){$('.mainInfo1 input:first').prop('checked',true);
                $('.mainInfoBuy1 input:first').prop('checked',true);}
                
            })
            

            $('.mainInfo1 input:first').click(function(){
                if($(this).prop('checked') && $('.mainInfoBuy1 input:first').prop('checked')){
                    return;}else{$('#mainFbox input:first').prop('checked',false)};      
            })
            
            
            $('.mainInfoBuy1 input:first').click(function(){
                if($(this).prop('checked') && $('.mainInfo1 input:first').prop('checked')){
                    return;}else{$('#mainFbox input:first').prop('checked',false)};      
            })

        })
        


    </script>
</body>
</html>